<!DOCTYPE html>
<html>
<!-- control+alt+i opens dope editor in real time -->
<head>
     <title>weSurviv3D</title>
     <script src = "/js/aframe-v0.8.2.min.js"></script>
     <script src="js/component.js"></script>   
     <script src="js/genTerra.js"></script>  
     <script src="js/trees.js"></script>
     <script src="js/runtime.js"></script>
     <script src="js/remove-component.js"></script>



</head>
<body>
 
    <script src="/socket.io/socket.io.js"></script>
    <script>
        let socket = io();

        //default connect event
        socket.on('connect', function() {
            console.log("connected!");
        });
        
        //spawining an object
        socket.on('Spawn_Object', function(data) {
            //make the object visible
            // sdlfjal;sdjf  sadfjksd-->
            let scene = document.querySelector('a-scene');

            let entity = document.createElement('a-entity');
                entity.setAttribute('position', {x:0,y:0,z:0});
                entity.setAttribute('obj-model', 'obj: #Axe_1-obj');
                entity.setAttribute('material', 'mtl: #Axe_1-mtl');
                entity.setAttribute('scale', '100 100 100');

                scene.appendChild(entity);

            //create rgb color string for css
            let confirmationStr = 'boolean: ' + data.b + '.';
            console.log("boolean received: " + confirmationStr);
        });
    </script>

    <!-- YADADFAF  JSAL;DJFASJDFKLJASLKD FJSA;.DJFLK;ASJF  -->

    <a-scene shadow="type: pcfsoft" stats>
        <a-assets>
            <img id="skymap" src="/assets/textures/CloudySky.jpg"> 
            <img id="tree_2-mat" src="/assets/textures/IceCreme_tree.png">  
            <img id="popcornGreen" src="/assets/textures/Popcorn_green.png"> 

            <a-asset-item id="tree_1-obj" src="/assets/models/poptree.obj"></a-asset-item>
            <a-asset-item id="tree_1-mat" src="/assets/textures/tree_1_1.mtl"></a-asset-item>
            <a-asset-item id="tree_2-obj" src="/assets/models/IceCreme_tree.obj"></a-asset-item>
            <!-- <a-asset-item id="tree_2-mat" src="/assets/textures/IceCreme_tree.png"></a-asset-item> -->
            <a-asset-item id="tree_3-obj" src="/assets/models/tree_2_2.obj"></a-asset-item>
            <a-asset-item id="tree_3-mat" src="/assets/textures/tree_2_2.mtl"></a-asset-item>
            <a-asset-item id="rock_01-mat" src="/assets/textures/rock_01.mtl"></a-asset-item>
            <a-asset-item id="rock_01-obj" src="/assets/models/rock_01.obj"></a-asset-item>

            <!-- adding our own models -->
            <a-asset-item id="Axe_1-obj" src="/assets/models/Axe_1.obj"></a-asset-item>
            <a-asset-item id="Axe_1-mtl" src="/assets/textures/Axe_1.mtl"></a-asset-item>

        </a-assets>
        <!-- <a-entity id="rock" obj-model="obj:#rock_01-obj" material="#rock_01-mat" shadow="cast: true" shadow="receive: true" position="10 2.3 0" ></a-entity>
        <a-entity id="tree" obj-model="obj: #tree_1-obj; mtl: #tree_1-mat;" shadow="cast: true" shadow="receive: true" position=" 0 0 10" ></a-entity>
         -->
        <a-entity id="terrainGenerationObj" genterra-component position="0 0 0"></a-entity>
        <a-entity id="sky"
                geometry="primitive:sphere; radius:500"
                material="shader:flat; src:#skymap; side:back">
        </a-entity>
        
        <!-- Lights< -->
        <a-entity id="Light SUN" light="type:directional; 
        castShadow:true;
        color:#e0d498; 
        intensity:1.2; 
        shadowCameraLeft: -250;
        shadowCameraBottom: -250;
        shadowCameraRight: 250;
        shadowCameraTop: 250;
        shadowMapHeight: 8112;
        shadowMapWidth: 8112;" 
        scale="10 10 10" position="40 40 20"></a-entity>
        <!-- shadowCameraVisible: true; -->

        <a-entity id="LightBounce1 Side" light="type:directional; color:#e0d498; intensity:0.1;"
        scale="10 10 10" position="-40 0 -20" rotation="180 0 0"></a-entity>

        <a-entity id="LightBounce1 Side2" light="type:directional; color:#e0d498; intensity:0.1;"
        scale="10 10 10" position="40 0 20" rotation="180 0 0"></a-entity>

        <a-entity id="LightBounce2 Bottom" light="type:directional; color:#e0d498; intensity:0.1;"
        scale="10 10 10" position="0 -0.025 0" rotation="90 0 0"></a-entity>

        <a-entity light="type: ambient;  color:#e0d498;  intensity:0.2;"></a-entity>
        <!-- Lights> -->

        <a-entity id="Player" position="0 10 0" runtime>
            <a-entity   cursor="fuse:true; fuseTimeout:500; rayOrigin:mouse;"></a-entity>

            <a-camera></a-camera>
        </a-entity>


        <a-entity id="axe" position="0,0,0" scale="100,100,100" geometry="#Axe_1-obj" material="#Axe_1-mtl"></a-entity>
    </a-scene>
 
    
</body>

</html>
